code from john

file edited for jenkins
